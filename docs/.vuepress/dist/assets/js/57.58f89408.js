(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{407:function(t,a,e){"use strict";e.r(a);var s=e(41),n=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"engine-io-parser"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#engine-io-parser"}},[t._v("#")]),t._v(" engine.io-parser")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://travis-ci.org/socketio/engine.io-parser",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://secure.travis-ci.org/socketio/engine.io-parser.svg?branch=master",alt:"Build Status"}}),e("OutboundLink")],1),t._v(" "),e("a",{attrs:{href:"https://npmjs.com/package/engine.io-parser",target:"_blank",rel:"noopener noreferrer"}},[e("img",{attrs:{src:"https://badge.fury.io/js/engine.io-parser.svg",alt:"NPM version"}}),e("OutboundLink")],1)]),t._v(" "),e("p",[t._v("This is the JavaScript parser for the engine.io protocol encoding,\nshared by both\n"),e("a",{attrs:{href:"https://github.com/socketio/engine.io-client",target:"_blank",rel:"noopener noreferrer"}},[t._v("engine.io-client"),e("OutboundLink")],1),t._v(" and\n"),e("a",{attrs:{href:"https://github.com/socketio/engine.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("engine.io"),e("OutboundLink")],1),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"how-to-use"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#how-to-use"}},[t._v("#")]),t._v(" How to use")]),t._v(" "),e("h3",{attrs:{id:"standalone"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#standalone"}},[t._v("#")]),t._v(" Standalone")]),t._v(" "),e("p",[t._v("The parser can encode/decode packets, payloads, and payloads as binary\nwith the following methods: "),e("code",[t._v("encodePacket")]),t._v(", "),e("code",[t._v("decodePacket")]),t._v(", "),e("code",[t._v("encodePayload")]),t._v(",\n"),e("code",[t._v("decodePayload")]),t._v(", "),e("code",[t._v("encodePayloadAsBinary")]),t._v(", "),e("code",[t._v("decodePayloadAsBinary")]),t._v(".")]),t._v(" "),e("p",[t._v("The browser-side parser also includes "),e("code",[t._v("encodePayloadAsArrayBuffer")]),t._v(" and "),e("code",[t._v("encodePayloadAsBlob")]),t._v(".")]),t._v(" "),e("p",[t._v("Example:")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" parser "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'engine.io-parser'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" data "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Buffer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("5")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nparser"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodePacket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" data "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("encoded")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" decodedData "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" parser"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("decodePacket")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("encoded"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// { type: 'message', data: data }")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("h3",{attrs:{id:"with-browserify"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#with-browserify"}},[t._v("#")]),t._v(" With browserify")]),t._v(" "),e("p",[t._v("Engine.IO Parser is a commonjs module, which means you can include it by using\n"),e("code",[t._v("require")]),t._v(" on the browser and package using "),e("a",{attrs:{href:"http://browserify.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("browserify"),e("OutboundLink")],1),t._v(":")]),t._v(" "),e("ol",[e("li",[e("p",[t._v("install the parser package")]),t._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v(" engine.io-parser\n")])])])]),t._v(" "),e("li",[e("p",[t._v("write your app code")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" parser "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'engine.io-parser'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" testBuffer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Int8Array")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("for")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v(" testBuffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" testBuffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" i"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" packets "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" testBuffer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("buffer "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" type"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'message'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" data"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello'")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nparser"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("encodePayload")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("packets"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("encoded")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  parser"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("decodePayload")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("encoded"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("packet"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" index"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" total")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" isLast "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" index "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" total"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("isLast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" buffer "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Int8Array")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("packet"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// testBuffer")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" message "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" packet"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'hello'")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])]),t._v(" "),e("li",[e("p",[t._v("build your app bundle")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[t._v("$ browserify app.js "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" bundle.js\n")])])])]),t._v(" "),e("li",[e("p",[t._v("include on your page")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("/path/to/bundle.js"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),e("span",{pre:!0,attrs:{class:"token script"}}),e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token tag"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])])]),t._v(" "),e("h2",{attrs:{id:"features"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#features"}},[t._v("#")]),t._v(" Features")]),t._v(" "),e("ul",[e("li",[t._v("Runs on browser and node.js seamlessly")]),t._v(" "),e("li",[t._v("Runs inside HTML5 WebWorker")]),t._v(" "),e("li",[t._v("Can encode and decode packets\n"),e("ul",[e("li",[t._v("Encodes from/to ArrayBuffer or Blob when in browser, and Buffer or ArrayBuffer in Node")])])])]),t._v(" "),e("h2",{attrs:{id:"api"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#api"}},[t._v("#")]),t._v(" API")]),t._v(" "),e("p",[t._v("Note: "),e("code",[t._v("cb(type)")]),t._v(" means the type is a callback function that contains a parameter of type "),e("code",[t._v("type")]),t._v(" when called.")]),t._v(" "),e("h3",{attrs:{id:"node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#node"}},[t._v("#")]),t._v(" Node")]),t._v(" "),e("ul",[e("li",[e("p",[e("code",[t._v("encodePacket")])]),t._v(" "),e("ul",[e("li",[t._v("Encodes a packet.")]),t._v(" "),e("li",[e("strong",[t._v("Parameters")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Object")]),t._v(": the packet to encode, has "),e("code",[t._v("type")]),t._v(" and "),e("code",[t._v("data")]),t._v(".\n"),e("ul",[e("li",[e("code",[t._v("data")]),t._v(": can be a "),e("code",[t._v("String")]),t._v(", "),e("code",[t._v("Number")]),t._v(", "),e("code",[t._v("Buffer")]),t._v(", "),e("code",[t._v("ArrayBuffer")])])])]),t._v(" "),e("li",[e("code",[t._v("Boolean")]),t._v(": optional, binary support")]),t._v(" "),e("li",[e("code",[t._v("Function")]),t._v(": callback, returns the encoded packet ("),e("code",[t._v("cb(String)")]),t._v(")")])])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("decodePacket")])]),t._v(" "),e("ul",[e("li",[t._v("Decodes a packet. Data also available as an ArrayBuffer if requested.")]),t._v(" "),e("li",[t._v("Returns data as "),e("code",[t._v("String")]),t._v(" or ("),e("code",[t._v("Blob")]),t._v(" on browser, "),e("code",[t._v("ArrayBuffer")]),t._v(" on Node)")]),t._v(" "),e("li",[e("strong",[t._v("Parameters")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("String")]),t._v(" | "),e("code",[t._v("ArrayBuffer")]),t._v(": the packet to decode, has "),e("code",[t._v("type")]),t._v(" and "),e("code",[t._v("data")])]),t._v(" "),e("li",[e("code",[t._v("String")]),t._v(": optional, the binary type")])])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("encodeBase64Packet")])]),t._v(" "),e("ul",[e("li",[t._v("Encodes a packet with binary data in a base64 string ("),e("code",[t._v("String")]),t._v(")")]),t._v(" "),e("li",[e("strong",[t._v("Parameters")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Object")]),t._v(": the packet to encode, has "),e("code",[t._v("type")]),t._v(" and "),e("code",[t._v("data")])]),t._v(" "),e("li",[e("code",[t._v("Function")]),t._v(": callback, returns the base64 encoded message ("),e("code",[t._v("cb(String)")]),t._v(")")])])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("decodeBase64Packet")])]),t._v(" "),e("ul",[e("li",[t._v("Decodes a packet encoded in a base64 string.")]),t._v(" "),e("li",[e("strong",[t._v("Parameters")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("String")]),t._v(": the base64 encoded message")]),t._v(" "),e("li",[e("code",[t._v("String")]),t._v(": optional, the binary type")])])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("encodePayload")])]),t._v(" "),e("ul",[e("li",[t._v("Encodes multiple messages (payload).")]),t._v(" "),e("li",[t._v("If any contents are binary, they will be encoded as base64 strings. Base64\nencoded strings are marked with a b before the length specifier")]),t._v(" "),e("li",[e("strong",[t._v("Parameters")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Array")]),t._v(": an array of packets")]),t._v(" "),e("li",[e("code",[t._v("Boolean")]),t._v(": optional, binary support")]),t._v(" "),e("li",[e("code",[t._v("Function")]),t._v(": callback, returns the encoded payload ("),e("code",[t._v("cb(String)")]),t._v(")")])])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("decodePayload")])]),t._v(" "),e("ul",[e("li",[t._v("Decodes data when a payload is maybe expected. Possible binary contents are\ndecoded from their base64 representation.")]),t._v(" "),e("li",[e("strong",[t._v("Parameters")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("String")]),t._v(": the payload")]),t._v(" "),e("li",[e("code",[t._v("String")]),t._v(": optional, the binary type")]),t._v(" "),e("li",[e("code",[t._v("Function")]),t._v(": callback, returns (cb("),e("code",[t._v("Object")]),t._v(": packet, "),e("code",[t._v("Number")]),t._v(":packet index, "),e("code",[t._v("Number")]),t._v(":packet total))")])])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("encodePayloadAsBinary")])]),t._v(" "),e("ul",[e("li",[t._v("Encodes multiple messages (payload) as binary.")]),t._v(" "),e("li",[e("strong",[t._v("Parameters")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Array")]),t._v(": an array of packets")]),t._v(" "),e("li",[e("code",[t._v("Function")]),t._v(": callback, returns the encoded payload ("),e("code",[t._v("cb(Buffer)")]),t._v(")")])])])])]),t._v(" "),e("li",[e("p",[e("code",[t._v("decodePayloadAsBinary")])]),t._v(" "),e("ul",[e("li",[t._v("Decodes data when a payload is maybe expected. Strings are decoded by\ninterpreting each byte as a key code for entries marked to start with 0. See\ndescription of encodePayloadAsBinary.")]),t._v(" "),e("li",[e("strong",[t._v("Parameters")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Buffer")]),t._v(": the buffer")]),t._v(" "),e("li",[e("code",[t._v("String")]),t._v(": optional, the binary type")]),t._v(" "),e("li",[e("code",[t._v("Function")]),t._v(": callback, returns the decoded packet ("),e("code",[t._v("cb(Object)")]),t._v(")")])])])])])]),t._v(" "),e("h3",{attrs:{id:"browser"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#browser"}},[t._v("#")]),t._v(" Browser")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("encodePayloadAsArrayBuffer")]),t._v(" "),e("ul",[e("li",[t._v("Encodes multiple messages (payload) as binary.")]),t._v(" "),e("li",[e("strong",[t._v("Parameters")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Array")]),t._v(": an array of packets")]),t._v(" "),e("li",[e("code",[t._v("Function")]),t._v(": callback, returns the encoded payload ("),e("code",[t._v("cb(ArrayBuffer)")]),t._v(")")])])])])]),t._v(" "),e("li",[e("code",[t._v("encodePayloadAsBlob")]),t._v(" "),e("ul",[e("li",[t._v("Encodes multiple messages (payload) as blob.")]),t._v(" "),e("li",[e("strong",[t._v("Parameters")]),t._v(" "),e("ul",[e("li",[e("code",[t._v("Array")]),t._v(": an array of packets")]),t._v(" "),e("li",[e("code",[t._v("Function")]),t._v(": callback, returns the encoded payload ("),e("code",[t._v("cb(Blob)")]),t._v(")")])])])])])]),t._v(" "),e("h2",{attrs:{id:"tests"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tests"}},[t._v("#")]),t._v(" Tests")]),t._v(" "),e("p",[t._v("Standalone tests can be run with "),e("code",[t._v("make test")]),t._v(" which will run both node.js and browser tests.")]),t._v(" "),e("p",[t._v("Browser tests are run using "),e("a",{attrs:{href:"https://github.com/defunctzombie/zuul",target:"_blank",rel:"noopener noreferrer"}},[t._v("zuul"),e("OutboundLink")],1),t._v(".\n(You must have zuul setup with a saucelabs account.)")]),t._v(" "),e("p",[t._v("You can run the tests locally using the following command:")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("./node_modules/.bin/zuul --local 8080 -- test/index.js\n")])])]),e("h2",{attrs:{id:"support"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#support"}},[t._v("#")]),t._v(" Support")]),t._v(" "),e("p",[t._v("The support channels for "),e("code",[t._v("engine.io-parser")]),t._v(" are the same as "),e("code",[t._v("socket.io")]),t._v(":")]),t._v(" "),e("ul",[e("li",[t._v("irc.freenode.net "),e("strong",[t._v("#socket.io")])]),t._v(" "),e("li",[e("a",{attrs:{href:"http://groups.google.com/group/socket_io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Google Groups"),e("OutboundLink")],1)]),t._v(" "),e("li",[e("a",{attrs:{href:"http://socket.io",target:"_blank",rel:"noopener noreferrer"}},[t._v("Website"),e("OutboundLink")],1)])]),t._v(" "),e("h2",{attrs:{id:"development"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#development"}},[t._v("#")]),t._v(" Development")]),t._v(" "),e("p",[t._v("To contribute patches, run tests or benchmarks, make sure to clone the\nrepository:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" clone git://github.com/LearnBoost/engine.io-parser.git\n")])])]),e("p",[t._v("Then:")]),t._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[t._v("cd")]),t._v(" engine.io-parser\n"),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("install")]),t._v("\n")])])]),e("p",[t._v("See the "),e("code",[t._v("Tests")]),t._v(" section above for how to run tests before submitting any patches.")]),t._v(" "),e("h2",{attrs:{id:"license"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#license"}},[t._v("#")]),t._v(" License")]),t._v(" "),e("p",[t._v("MIT")])])}),[],!1,null,null,null);a.default=n.exports}}]);